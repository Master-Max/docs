************************
CS-Cart 4.14.1 Changelog
************************

=============================
New Features and Improvements
=============================

[+] Add-ons: Product Bundles: The new add-on was added.

[+] Document editor: The tax number was added to company variables.

[+] Mobile application: Support for the Product Reviews add-on was added.

[+] Mobile application: Ability to sing in via Facebook was added for iOS devices.

[+] Mobile application: Now vendors can change product features via the application.

[+] Multi-Vendor: Add-ons: Booking: Added new add-on for booking.

[+] Multi-Vendor: Add-ons: Stripe Connect: Express account onboarding was implemented.

[+] Multi-Vendor: Add-ons: Vendor debt payout: The option to collect taxes from vendor's balance refill transaction was added.

[+] Multi-Vendor: Add-ons: Vendor panel configurator: The new add-on that simplifies vendor panel was added.

[+] Multi-Vendor: Categories: Now you can link categories to a specific storefront or make them common for all storefronts.

[+] Multi-Vendor: Notifications:  Now you can set vendor email addresses for the specific types of notifications.

[+] Multi-Vendor: Vendors: The "Review new vendors before granting access to the admin panel" setting was added. New vendors are assigned "New" or "Active" status.

[+] Multi-Vendor Ultimate: Add-ons: Order fulfillment by marketplace [Beta]: Stores and pickup points: An ability to add pickup points owned by marketplace and to use them for the "Pickup from store" shipping method was added.

[+] Order statuses: Now it is forbidden to change the Inventory field for the Open and Paid order statuses.

[+] Settings: Storefronts: Interface for quickly adding languages and currencies to the storefront detail page was developed.

[+] Shipping methods: Percentage option for rate surcharge or discount was added.

[+] UI/UX: Storefronts: The element for mass selection of entities for currencies and languages was changed.

[+] UX / UI: Elements of bulk property selection were changed.

=====================
Functionality Changes
=====================

[*] Add-ons: Product reviews: Performance: On the product detail page, the number of database queries has been reduced.

[*] Multi-Vendor: Core: Shipping methods: An ability to enable common shipping methods for new vendors automatically was added.

[*] Multi-Vendor: Design: Blocks: Shipping methods: An ability to edit text of the "No shipping required" notification and to turn this notification off on the checkout page was added.

[*] Multi-Vendor: Store setup wizard: Redesigned the Vendors section.

[*] Multi-Vendor: Vendor panel: Products: The "Add product" button on the product list in the vendor panel now also has a link to product import.

=========
Bug Fixes
=========

[!] Add-ons: Filtering by "With photo" options did not work correctly if the product did not have reviews with images. Fixed.

[!] Add-ons: Gift certificates: If a non-breaking space was used in the certificate amount, it was displayed as a code. Fixed.

[!] Add-ons: Maps and geolocation: When the showing of shipping cost and time on product pages was enabled in the add-on settings, then there was a notification on the storefront that the product with zero price has not been added to the cart.

[!] Add-ons: Message center: The customer received notifications in the administrator's language. Fixed.

[!] Add-ons: Message center: Administrator could send messages to unregistered customer. Fixed.

[!] Add-ons: Mobile application: The variable, responsible for screen padding, was not uploaded to the archive with the settings. Fixed.

[!] Add-ons: Newsletters: Placing an order by a customer caused newsletter unsubscription in some cases. Fixed.

[!] Add-ons: Newsletters: Subscribers: The expand button didn't work on mobile devices. Fixed.

[!] Add-ons: Product Variations: Warehouses: Default variation did not change when product was out of stock in the warehouse. Fixed.

[!] Add-ons: Product Variations: Design: The table crossed page borders if the vendor had a long name. Fixed.

[!] Add-ons: Product Variations: Products: After a product was saved, its name was displayed in the language of the admin panel, not in the language of the content. Fixed.

[!] Add-ons: Stores & pickup points: City selection drop-down list was displayed incorrectly in RTL language. Fixed.

[!] Add-ons: Stripe payments: The Czech Republic, Malta and other countries were added to the list of supported countries.

[!] Add-ons: Vendor data premoderation: An error occurred while editing an order. Fixed.

[!] Add-ons: Warehouses: There was an error at checkout if negative quantity of product in stock was allowed. Fixed.

[!] Add-ons: Warehouses: When product cart cart contained more items than the nearest warehouse, the warning about shipping delay wasn't shown. Fixed.

[!] Add-ons: Warehouses: Export/Import: Import of products quantity didn't work if the product wasn't split by the warehouses before. Fixed.

[!] Admin panel: Js-error was coming from LazyLoader plugin. Fixed.

[!] Admin panel: Orders: Call Requests: The "Products in cart" button didn't work on mobile devices. Fixed.

[!] Admin panel: Files: The downloaded archive with several files couldn't be opened. Fixed.

[!] Cart: Choosing product options changed the order of items in the cart. Fixed

[!] Categories: In some cases, when deleting categories, the "trash-category" might not be created. Fixed.

[!] Categories: The bulk edit page of the selected categories was opened when pressing Enter. Fixed.

[!] Core: Checkout: Profile fields: Billing address fields were displayed incorrectly in some cases, and they could not be removed from the order. Fixed.

[!] Core: Customers could create users with duplicated @ symbol in the E-mail field. Fixed.

[!] Core: The 403 and 404 pages were displayed incorrectly if init controller was extended by the init.pre.php. Fixed.

[!] Design: Admin panel: The page with the list of customers was displayed incorrectly if customers had long names and surnames. Fixed.

[!] Design: Layouts: Blocks: Deleting a block in a layout redirected the user to the default layout page. Deleting a block in a section redirected the user to the page with the block list. Fixed.

[!] Design: Products: Context menu: The text and checkboxes were on different levels when selecting the editable fields of the selected items. Fixed.

[!] Help Section: The display of blocks in columns was not always correct. Fixed.

[!] Mobile application: It was impossible to choose different shipping methods for products from different vendors. Fixed.

[!] Mobile application: Status bar color didn't change. Fixed.

[!] Mobile application: The title color for Pages block didn't change. Fixed.

[!] Mobile application: When the 'Access for authorized customers only' option was enabled, the pages didn't open. Fixed.

[!] Multi-Vendor: Orders: Buying products from different vendors without shipping required could cause orders in which vendors did not match their products. Fixed.

[!] Multi-Vendor: Add-ons: Stores and pickup points: Warehouses: Vendor could see total amount of stores and warehouses in marketplace. Fixed.

[!] Multi-Vendor: Add-ons: Stores and pickup points: Warehouses: Vendors could see other users' warehouses and couldn't set the write-off priority of goods. Fixed.

[!] Multi-Vendor: Add-ons: Vendor data premoderation: Menu for vendor moderation was not displayed when only approval of newly-created vendors setting was on. Fixed.

[!] Multi-Vendor: Add-ons: Watermarks: When importing products, the add-on settings were reset. Fixed.

[!] Multi-Vendor: Checkout: It was impossible to buy products from different vendors when some of these vendors did not use shipping methods. Fixed.

[!] Multi-Vendor: Menu: An incorrect tab was highlighted in the vendor panel menu. Fixed.

[!] Multi-Vendor: Users: The "Password validity period in days" setting worked incorrectly. Fixed.

[!] Multi-Vendor: Vendors: Accounting: The expand button didn't work on mobile devices. Fixed.

[!] Multi-Vendor: Vendors: Profiles: The default state value was not displayed for the new customer in the vendor panel. Fixed.

[!] Multi-Vendor Plus: Add-ons: Common Products for Vendors: The minimum price for a common product could be based on the price of a vendor linked to one storefront. Fixed.

[!] Multi-Vendor Plus: Add-ons: Common Products for Vendors: Common products was not displayed in search results within layout blocks. Fixed.

[!] Multi-Vendor Plus: Add-ons: Add-ons: Direct Customer-to-Vendor Payments: Orders: When creating an order from the admin panel, the current user was always assigned to the customer. Fixed.

[!] Pages: Sitemap: Link pages were showed on the sitemap. Fixed.

[!] Performance: Fonts: The text was not displayed until the custom font was loaded. Fixed.

[!] Product options: Forbidden combinations: Forbidden combinations worked incorrectly. Fixed.

[!] Products: Files to sell: Tabs: When editing a file, a pop-up window for editing a tab could open and vice versa. Fixed.

[!] Products: Options: Zero value was not saved for Text/Text area type option. Fixed.

[!] Products: Subscribers: If the guest signed up for the notification that the product is in stock, then the checkbox was not saved on page reload. Fixed.

[!] Products: Subscribers: The checkbox for subscribing to notification of product receipt was not removed if the user was not logged in and did not enter an email. Fixed.

[!] Profile fields: Phone number input wasn't working properly on Android devices when international phone number format was used. Fixed.

[!] Promotions: Features: Using a feature with a filter type and feature style "Checkbox" in promotions conditions might not give a discount. Fixed.

[!] Promotions: Some promotion conditions were not displayed when editing a promotion. Fixed.

[!] Settings: The notification about changing the global/individual settings did not appear when leaving the page. Fixed.

[!] Statuses: Emails: Out of date notification settings were displayed in the order status settings. Fixed.

[!] WYSIWYG: Redactor II: The HTML redactor did not work if the Brazilian Portuguese language was selected. Fixed.