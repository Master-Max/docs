****************
Пиксель Facebook
****************

.. note:: 

    Для работы с модулем потребуется аккаунт Facebook.

Когда человек совершает действие на сайте вашей компании (например, оформление заказа или добавление товара в корзину), `пиксель Facebook <https://www.facebook.com/business/help/742478679120153?id=1205376682832142>`_ регистрирует событие и отправляет его в Facebook. Отслеживание событий помогает повысить эффективность рекламы на Facebook — например, можно запустить кампанию для более релевантной аудитории.

Модуль помогает измерять эффективность рекламы Facebook и Instagram и собирать веб-аналитику. Пользователи увидят полученные данные о событиях в `Events Manager <https://www.facebook.com/business/help/898185560232180?id=1205376682832142>`_.

.. contents::
    :backlinks: none
    :local:

Функциональность
================

Пиксель Facebook позволяет получать следующую информацию о поведении покупателей (событиях):

* просмотренные страницы;

* добавленные в корзину товары;

* размещенные заказы.

Установка и настройка модуля
============================

Установите модуль так же, как :doc:`любой другой модуль </user_guide/addons/1manage_addons>`. Нажмите на название установленного модуля, чтобы открыть его настройки.

**ID пикселя Facebook**. Скопируйте ID созданного пикселя со страницы с пикселем, под его названием.

.. image:: img/id.png
    :align: center
    :alt: Pixel ID in the Facebook personal area.

Ниже расположены настройки, отвечающие за поддержку отслеживаемых событий. Расставьте галочки в чекбоксах и решите, хотите ли вы:

* **отслеживать все просмотры страниц**,

* **отслеживать добавление товара в корзину**, 

* **отслеживать размещение заказа**.

.. image:: img/settings.png
    :scale: 40 %
    :align: left
    :alt: Add-on settings.

Создание и настройка пикселя
============================

Создание
--------

.. note:: 

    Прежде чем начать, создайте аккаунт `Business Manager <https://www.facebook.com/business/help/1710077379203657?id=180505742745347>`_. Чтобы войти в Business Manager, используйте данные вашего аккаунта Facebook. 

#. Откройте `Events Manager <https://facebook.com/events_manager2>`_.

#. Нажмите |plus_button|, **Подключить источники данных** и выберите **Интернет**.

.. |plus_button| image:: img/plus_button.png

#. Выберите **Пиксель Facebook**, а затем — **Подключить**.

#. Введите **название** пикселя.

#. Введите URL сайта, чтобы узнать, возможна ли быстрая настройка.

#. Нажмите **Продолжить**.

Настройка 
---------

Если в процессе создания пикселя вы ввели верные URL сайта и ID пикселя в настройках модуля, то на вкладке *Обзор* в Events Manager вы увидите сведения о произошедших событиях. Данные могут появляться с задержкой до 20 минут. 

.. image:: img/overview.png
    :align: center
    :alt: Overview tab in the Events Manager.

Проверка работы пикселя
=======================

Тестирование событий
--------------------

Инструмент тестирования событий в Events Manager поможет убедиться, что события настроены правильно и Facebook их получает.

Откройте вкладку `Тестирование событий <https://www.facebook.com/business/help/2040882565969969?id=1205376682832142>`_ и не закрывайте до окончания тестирования, т.к. действия регистрируются, пока открыта эта вкладка.

В блоке **Тестирование событий браузера** введите URL сайта, действия на котором хотите протестировать. Нажмите **Открыть сайт** и проверьте работу пикселя в соответствии с настройками модуля: посетите страницы, добавьте товары в корзину, совершите покупки. В течение 30 секунд список ваших действий появится на вкладке *Тестирование событий*.

Facebook распознаёт события по контексту. Поэтому отслеживаться будут события, которые вы включили в настройках модуля, а также события, `заранее определенные на Facebook <https://www.facebook.com/business/help/402791146561655?id=1205376682832142>`_. Чтобы видеть определённые типы событий, отфильтруйте их, нажав на значок фильтра |filter_button|.

.. |filter_button| image:: img/filter_button.png

.. image:: img/testing.png
    :align: center
    :alt: Testing tab in the Events Manager.

Плагин
------

Чтобы узнать, правильно ли работает ваш пиксель, можно также воспользоваться плагином Chrome. Установите `Pixel Helper <https://www.facebook.com/business/help/198406697184603?id=1205376682832142>`_ в `интернет-магазине Chrome <https://chrome.google.com/webstore/detail/facebook-pixel-helper/fdgfkebogiimcoedlicjlajpkdmockpc?h1=en>`_. После установки перейдите на свой сайт в браузере Chrome и нажмите значок Pixel Helper |plugin_button| рядом с адресной строкой. Появится всплывающее окно с информацией о том, какие пиксели и события были найдены на странице и успешно ли они загрузились.

.. |plugin_button| image:: img/plugin_button.png
