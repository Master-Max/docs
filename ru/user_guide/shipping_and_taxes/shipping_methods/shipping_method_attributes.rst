**************************
Свойства способов доставки
**************************

В зависимости от того, как рассчитывается стоимость доставки, все способы доставки можно разделить на две группы:

* :doc:`Способы доставки с расчётом тарифа вручную (по тарифным зонам) </user_guide/shipping_and_taxes/shipping_methods/manual_shipping_methods/index>` рассчитывают стоимость доставки исходя из правил, которые вы вручную задаёте в панели администрирования.

* :doc:`Способы доставки с расчётом тарифа в реальном времени (автоматически) </user_guide/shipping_and_taxes/shipping_methods/realtime_shipping_methods/index>` отправляют данные в сторонние сервисы, когда покупатель переходит к оформлению заказа. Если сервис поддерживает доставку по указанному адресу, то покупатель сможет выбрать соответствующий способ доставки.

.. _general-tab-shipping-method:

=====
Общее
=====

* **Расчёт тарифа** — механизм расчёта стоимости доставки:
  
  * **Вручную (по тарифным зонам)** — основан на таблицах, которые вы редактируете на вкладке **Стоимость и сроки доставки** (появляется у способов доставки, которые уже созданы).
  
    * *По адресу покупателя* — стоимость и сроки доставки зависят от :doc:`тарифной зоны </user_guide/shipping_and_taxes/locations/index>`, к которой относится адрес покупателя.
  
    * *Самовывоз* — стоимость и сроки доставки в магазин или пункт самовывоза зависят от тарифной зоны, к которой относится :doc:`пункт самовывоза </user_guide/shipping_and_taxes/shipping_methods/realtime_shipping_methods/pickup>`.

  * **В реальном времени (автоматически)** — основан на стоимости, которую присылает сторонний сервис. Эту стоимость магазин получает в реальном времени, когда покупатель оформляет заказ.
  
  .. note::

        Настройки, связанные со сторонними сервисами, находятся во вкладке **Настроить**.

* **Служба доставки** — сервисы по доставке, которые предоставляет перевозчик. Перевозчик — служба доставки или API, который будет использоваться для расчёта стоимости. Настройка службы доставки появится, только если выбран один из пунктов расчёта тарифа *В реальном времени (автоматически)*.

* **Название** — название способа доставки, которое отобразится на витрине.

* **Статус** — статус способа доставки: **Вкл.** или **Выкл.**

* **Иконка** — изображение способа доставки.

  Вы можете загрузить иконку со своего компьютера, выбрать существующий файл на сервере или ввести ссылку на изображение. Не забудьте указать альтернативный текст, который появится, если иконка отсутстсвует, или если её нельзя отобразить—это полезно для `поисковой оптимизации <https://ru.wikipedia.org/wiki/Search_engine_optimization>`_.

  Поддерживаемые форматы: JPEG, GIF, PNG. Максимальный размер загружаемого изображения зависит от настроек сервера. Как правило, он не должен превышать 2 мегабайта.

  .. note::

      Иконки способов доставки появляются на витрине в специальном блоке с типом **Способы доставки**. Создать этот блок можно на странице **Дизайн → Макеты**.

* **Время доставки** — время, которое требуется на доставку заказа этим способом. Это время отображается на витрине, чтобы покупатели знали, подходит ли им этот способ.

* **Описание** — подробное описание способа доставки.

* **Группы пользователей** — :doc:`группы пользователей </user_guide/users/user_groups/index>`, которые смогут выбрать этот способ доставки при оформлении заказа.

* **Лимит веса** — минимальный и максимальный вес заказа, который можно доставить этим способом. Если заказ не соответствует этим требованиям, то этот способ доставки не будет предложен покупателю.

.. note::

    Следующие настройки есть только в CS-Cart для маркетплейсов.

* **Владелец** — маркетплейс или продавец, за которым закреплён способ доставки. По умолчанию владельцем выбран маркетплейс.

* **Использовать для всех новых продавцов** — поставьте галочку, чтобы способ доставки был автоматически доступным для всех новых продавцов.

=========
Настроить
=========

Эта вкладка появляется, только если на вкладке **Общее** выбран один из пунктов расчёта тарифа *В реальном времени (автоматически)*. Это означает, что стоимость доставки будет получена от сторонних сервисов в зависимости от информации, которая будет передана, когда пользователь перейдёт к оформлению заказа. 

На вкладке задаются настройки, связанные с выбранным перевозчиком. Поэтому если вы не знаете, как правильно настроить способ доставки, воспользуйтесь информацией от стороннего сервиса и :doc:`нашей документацией </user_guide/shipping_and_taxes/shipping_methods/realtime_shipping_methods/index>`.

.. hint::

    После того, как вы настроите способ доставки, нажмите кнопку **Сохранить**. Тогда вы сможете перейти на вкладку **Проверить расчёт тарифа** и рассчитать стоимость доставки, как описано ниже.

==========================
Стоимость и сроки доставки
==========================

Вам необходимо решить, где будет предлагаться ваш способ доставки. Для этого выберите тарифные зоны из выпадающего списка. Если в магазине существует какая-то тарифная зона, а вы её не добавите в способ доставки, то и доставки в эту тарифную зону не будет.

.. important::

    Если какой-то тарифной зоны нет в магазине, вы можете :doc:`создать её </user_guide/shipping_and_taxes/locations/set_location>`. Это необходимо, только если вам для этой зоны нужно отдельно задать условия и доступность/недоступность доставки.

Если стоимость доставки рассчитывает сторонний сервис, то сумма, которую укажете вы,   прибавляется к полученной стоимости. Так вы можете добавить в стоимость свои затраты (на упаковку, страховку, и т.п.) поверх суммы, которую требует перевозчик.

Вы можете задать зависимость сумм от стоимости или количества товаров в заказе, их веса, а также тарифных зон. Когда вы зададите нужные правила, нажмите кнопку **Сохранить**.

.. fancybox:: manual_shipping_methods/img/dependencies.png
    :alt: Зависимость стоимости доставки в CS-Cart.
    
* **От** — минимальное значение, начиная с которого применяется указанная сумма надбавки/скидки.

* **До** — максимальное значение, до которого применяется указанная сумма надбавки/скидки.

* **Надбавка/скидка** — сумма, которая прибавится к стоимости доставки или убавится от ее стоимости. Для того, чтобы сделать скидку на доставку, добавьте знак “-” (минус) к введенному значению.

.. important::

    Если вы не введете значение стоимости доставки или не добавите зависимость от цены/веса/количества для добавленных вами :doc:`тарифных зон </user_guide/shipping_and_taxes/locations/index>`, то доставка в эти тарифные зоны будет бесплатной по умолчанию. 

=======================
Проверить расчёт тарифа
=======================

Нажмите на кнопку **Пересчитать цены**, чтобы рассчитать стоимость доставки. Расчёт осуществляется на основе веса, который вы указываете в форме, а также на основе :doc:`адреса компании и адреса покупателя по умолчанию </user_guide/shipping_and_taxes/address>`.

.. fancybox:: img/shipping_test_rate_calculation.png
    :alt: Проверка расчёта тарифа при настройке способа доставки.

========================
Дополнительные настройки
========================

* **Налоги** — налоговые ставки, которые применяются к способу доставки.

* **Использовать для бесплатной доставки** — поставьте галочку, чтобы товары с включенным параметром **Бесплатная доставка** не учитывались при расчете стоимости доставки.

* **Покупатель должен указать свой адрес** — поставьте галочку, чтобы при оформлении заказа покупатель указал адрес доставки.
